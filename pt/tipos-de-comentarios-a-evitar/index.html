<!DOCTYPE html>
<html lang="pt-BR">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Aprenda quais tipos de comentários devem ser evitados</title>
  <meta name="description" content="Alerta de Spoiler: Você deveria evitar a maioria.">
  
  <!-- Twitter card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:creator" content="@carlosschults">
  <meta name="twitter:site" content="@carlosschults">
  <meta name="twitter:domain" content="carlosschults.net">
  <meta name="twitter:title" content="Aprenda quais tipos de comentários devem ser evitados">
  <meta name="twitter:description" content="Alerta de Spoiler: Você deveria evitar a maioria.">

   <!-- Facebook meta -->
  
  
  <meta property="og:title" content="Aprenda quais tipos de comentários devem ser evitados">
  <meta property="og:site_name" content="Carlos Schults / Blog" />
  <meta property="og:locale" content="pt_BR">  
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://res.cloudinary.com/dz5ppacuo/image/upload/v1488499558/comments-1038x437.jpg" />  
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="1038"> 
  <meta property="og:image:height" content="437">  
  
  <meta property="og:article:published_time" content="2017-03-02T00:00:00-03:00" />  
  <meta property="og:article:author" content="Carlos Schults" />
  
  <meta property="og:article:tag" content="code smell" />
  <meta property="og:article:tag" content="BoasPraticas" />
  <meta property="og:article:tag" content="iniciantes" />    
  
  <meta property="og:url" content="http://carlosschults.net/pt/tipos-de-comentarios-a-evitar/"/>
  <meta property="og:description" content="Alerta de Spoiler: Você deveria evitar a maioria.">
  <link rel="stylesheet" href="/css/main.css">  
  
   <link rel="canonical" href="http://carlosschults.net/pt/tipos-de-comentarios-a-evitar/">
   
  
  <link rel="alternate" hreflang="en" href="/en/types-of-comments-to-avoid/" />
  <link rel="alternate" hreflang="pt" href="/pt/tipos-de-comentarios-a-evitar/" />
  
  <link rel="alternate" type="application/rss+xml" title="carlos schults / blog" href="http://carlosschults.net/rss.xml">
</head>

  <body>

    <header class="site-header">
  <div class="wrapper">    
    <a class="site-title" href="/pt/">carlos schults / blog</a>
    
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">        
          
          <a class="page-link" href="/sobre/">Sobre</a>
		  <a class="page-link" href="/meu-trabalho/">Meu Trabalho</a>
          <a class="page-link" href="/busca/">Busca</a>
                  
      </div>
    </nav>

  </div>

</header>

<div class="wrapper" style="text-align: right; line-height: 2em">
  
   <a href="/en/types-of-comments-to-avoid/" class="en">en</a>  <a href="/pt/tipos-de-comentarios-a-evitar/" class="pt">pt</a> 

  
  
</div>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">    
    <h2 class="postTitle" itemprop="headline">Aprenda quais tipos de comentários devem ser evitados</h2>
    <p class="post-meta">   
    <time datetime="2017-03-02T00:00:00-03:00" itemprop="datePublished">02/03/2017
    </time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Carlos Schults</span></span>
  <span class="tags" itemprop="keywords"> • Tags: <a href="/tag_ptbr/code smell">code smell </a> <a href="/tag_ptbr/BoasPraticas">BoasPraticas </a> <a href="/tag_ptbr/iniciantes">iniciantes </a> </span>
  </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><img src="https://res.cloudinary.com/dz5ppacuo/image/upload/v1488499558/comments-1038x437.jpg" alt="" /></p>

<p>Alerta de Spoiler: Você deveria evitar a maioria.
<!--more--></p>

<p>“Comentar ou não comentar”. Essa é uma questão que gera debates acalorados. Algumas pessoas dizem que comentários são indispensáveis. Outros defendem que comentários apenas mostram a incapacidade do desenvolvedor de se expressar claramente no código. Quem está certo?</p>

<p>Na época da faculdade, eu considerava comentários indispensáveis na hora de programar. Do contrário, como você poderia entender o que código deveria fazer?</p>

<p>Depois de me formar e encontrar um emprego, as coisas começaram a mudar. Eu comecei a ser exposto à <em>código real</em>. Eu estava lendo livros, artigos e blog posts escritos por pessoas influentes da área.</p>

<p>Todas essas experiências moldaram a minha visão atual.</p>

<h2 id="os-perigos-da-documentação-ruim">Os perigos da documentação ruim</h2>

<p>Comentários são apenas outra forma de documentação. E não se engane: documentação é uma coisa boa - <em>quando feita corretamente e na quantidade certa</em>.</p>

<p>Infelizmente, é feita errada frequentemente!</p>

<p>Muitos tipos de documentação podem ser problemáticas. É muito comum que a documentação perca sincronia com o que está documentando, o que é bem pior que não ter documentação nenhuma para começar.</p>

<p>Esse é um dos problemas dos quais comentários sofrem, mas está longe de ser o único.</p>

<h3 id="código-comentado">Código comentado</h3>

<p>Vamos começar com o problema mais óbvio de todos, que é código comentado. Alguns desenvolvedores, durante uma correção de bug por exemplo, decidem comentar o código que está errado, em vez de removê-lo.</p>

<p><strong>Não faça isso!</strong></p>

<p>Código comentado não traz benefício para ninguém. É apenas desperdício. Confie no seu sistema de controle de versão. Ele vai lembrar das alterações feitas caso seja necessário revertê-las no futuro.</p>

<h3 id="comentários-changelog">Comentários ‘Changelog’</h3>

<p>Esta categoria de comentários ruins é parecida com a anterior, no sentido de ser causada por uma falta de confiança no sistema de controle de versões.</p>

<p>O que eu quero dizer por comentários changelog? Comentários que servem apenas para listar as alterações feitas a um arquivo.</p>

<script src="https://gist.github.com/carlosschults/3889e4d4b337c6adc94af354ec574d9a.js"></script>

<p>Comentários desse tipo estão apenas fazendo o mesmo trabalho que seu controle de versão, mas de uma maneira desajeitada e propensa ao erro.</p>

<p>Não escreve comentários como esses. Use <a href="https://git-scm.com/">git</a> e seja feliz.</p>

<h3 id="comentários-redundantes">Comentários redundantes</h3>

<p>Esse tipo de comentário ruim é muito fácil de detectar e corrigir. Considere o código a seguir:</p>

<script src="https://gist.github.com/carlosschults/cc821bc3c00137e5fad68f1fe7d65490.js"></script>

<p>Eu acho que todos podemos concordar que esses comentários são inúteis. O código é perfeitamente claro sem eles, portanto, devem ser removidos.</p>

<h3 id="comentários-delimitando-fim-de-blocos">Comentários delimitando fim de blocos</h3>

<p>Você provavelmente já viu algum código assim antes:</p>

<script src="https://gist.github.com/carlosschults/0c6e461ec278db804f52d64ade458bf4.js"></script>

<p>Algumas pessoas escrevem comentários assim para não perderem o controle das chaves.</p>

<p>Se você precisa de comentários por essa razão, isso é indicativo de que seu método é muito longo e você tem muitos níveis de indentação.</p>

<p>Lembre-se do Princípio da Responsabilidade Única: cada método deve fazer apenas uma coisa. Divida o seu método em métodos menores e a necessidade desse tipo de comentários desaparece.</p>

<h3 id="comentários-que-delimitam-seções-dentro-de-um-método">Comentários que delimitam seções dentro de um método</h3>

<p>Esse é parecido com o anterior. Se você tem diversas seções dentro de um método, cada uma delas com um comentário explicativo em cima, então você provavelmente está violando o Princípio da Responsabilidade Única.</p>

<p>Extraia cada trecho para seu próprio método, usando o texto do comentário como o nome do novo método, e então remova os comentários.</p>

<h3 id="comentários-desatualizados">Comentários desatualizados.</h3>

<p>Um cenário comum:</p>

<ul>
  <li>Bob escreve algumas linhas de código. Ele decide que o código não está claro o suficiente e adiciona alguns comentários para tornar a sua intenção mais clara.</li>
  <li>Passam-se algumas semanas. Alguém descobre um bug no código de Bob. Mas ele está de férias, então Alice é encarregada de corrigir o bug.</li>
  <li>Alice corrige o código em alguns minutos e comita suas alterações. Mas ela esquece de alterar os comentários para refletir as mudanças que ela fez no código.</li>
</ul>

<p>O que nós temos agora? Comentários mentirosos!</p>

<p><strong>Documentação que espalha mentiras é pior que não ter documentação alguma.</strong> É uma fonte de confusão para os desenvolvedores, e terreno fértil para bugs. Quando você ver um comentário desatualizado, não pense duas vezes: remova-o imediatamente, ou corrija-o. Mas na maioria das vezes você não deveria manter o comentário. Veja o próximo tópico para descobrir o porquê.</p>

<h3 id="comentários-criados-devido-à-falta-de-expressividade-no-código">Comentários criados devido à falta de expressividade no código</h3>

<p>Considere o código a seguir:</p>

<script src="https://gist.github.com/carlosschults/ec7db3ebadccded768f97933c88e704f.js"></script>

<p>Talvez você não considere o comentário no trecho acima tão ruim. Tudo bem, não é péssimo. Mas pense na oportunidade perdida de extrair um método ou propriedade útil:</p>

<script src="https://gist.github.com/carlosschults/b102a4f5c11ba7b1639410dcbb87830f.js"></script>

<p>No novo código, nós extraímos o conceito de ser elegível para doar sangue para uma nova propriedade. As regras para elegibilidade para doação de sangue estão agora consolidadas em um único local; se elas mudarem algum dia, a quantidade de trabalho necessária para atualizá-las será mínima.</p>

<p>E nós ainda ganhamos o benefício adicional da legibilidade: a nova instrução <code class="highlighter-rouge">if</code> lê quase como linguagem natural.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Como vimos, há diversos tipos de comentários ruins com os quais você deve ficar alerta. Eles geralmente são sinais de que há algo errado no seu código. Talvez seus métodos são muito longos.Talvez <a href="https://carlosschults.net/pt/como-escolher-bons-nomes/">você não escolheu bons nomes para suas variáveis</a>.</p>

<p>Toda vez que você sentir a necessidade de escrever um comentário, pare e tente pensar em maneiras de melhorar o seu código para tornar o comentário desnecessário.</p>

<p>Nem todos os comentários são ruins. Em um post futuro, vou falar sobre os tipos de comentários que são úteis.</p>

<p>Até mais!</p>

<h2 id="ler-mais-todos-os-links-em-inglês">Ler mais (todos os links em inglês)</h2>

<ul>
  <li><a href="https://butunclebob.com/ArticleS.TimOttinger.ApologizeIncode">Apologies In Code, por Robert C. Martin</a></li>
  <li><a href="https://www.codeproject.com/tips/467657/write-comments-that-matter">Write comments that matter, por Sander Rossel</a></li>
  <li><a href="https://medium.com/@kentcdodds/please-don-t-commit-commented-out-code-53d0b5b26d5f#.yex54k2sg">Please, don’t commit commented out code, por Kent C. Dodds</a></li>
</ul>

    
    
      
    
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
                    
            <a rel="previous" class="previous" href="/pt/blogs-desenvolvimento-portugues/">&larr; Blogs em português sobre desenvolvimento de software que você deveria seguir! </a>
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
        	    
            <a rel="next" class="next" href="/pt/funcionalidades-csharp-6/">Já está na hora de começar a usar essas features do C# 6! &rarr;</a>
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
      
    <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//carlosschultsblog.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">         
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/carlosschults"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">carlosschults</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/carlosschults"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">carlosschults</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Artigos sobre desenvolvimento de software, banco de dados e vários assuntos ligados à tecnologia.</p>
      </div>
    </div>

  </div>

</footer>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92788641-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
